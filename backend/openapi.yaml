openapi: 3.0.0
info:
  title: BuildEasy API
  description: Comprehensive API for BuildEasy construction materials marketplace platform
  version: 1.0.0
  contact:
    name: BuildEasy Development Team
servers:
  - url: http://localhost:3000/api
    description: Local development server
security:
  - BearerAuth: []
paths:
  /auth/register:
    post:
      summary: Register new user account
      operationId: registerUser
      tags:
        - Authentication
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - phone
                - password
                - name
              properties:
                email:
                  type: string
                  format: email
                phone:
                  type: string
                password:
                  type: string
                name:
                  type: string
                role:
                  type: string
                  enum:
                    - customer
                    - supplier
                  default: customer
                account_type:
                  type: string
                  enum:
                    - personal
                    - business
                  default: personal
      responses:
        "201":
          description: User registered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: "#/components/schemas/User"
                  token:
                    type: string
        "400":
          $ref: "#/components/responses/BadRequest"
  /auth/login:
    post:
      summary: Login to user account
      operationId: loginUser
      tags:
        - Authentication
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
      responses:
        "200":
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: "#/components/schemas/User"
                  token:
                    type: string
        "401":
          $ref: "#/components/responses/Unauthorized"
  /auth/password-reset/request:
    post:
      summary: Request password reset
      operationId: requestPasswordReset
      tags:
        - Authentication
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
      responses:
        "200":
          description: Password reset email sent
  /auth/password-reset/confirm:
    post:
      summary: Confirm password reset with token
      operationId: confirmPasswordReset
      tags:
        - Authentication
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - reset_token
                - new_password
              properties:
                reset_token:
                  type: string
                new_password:
                  type: string
      responses:
        "200":
          description: Password reset successful
  /auth/verify-email:
    post:
      summary: Verify email address
      operationId: verifyEmail
      tags:
        - Authentication
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - verification_token
              properties:
                verification_token:
                  type: string
      responses:
        "200":
          description: Email verified successfully
  /users/me:
    get:
      summary: Get current user profile
      operationId: getCurrentUser
      tags:
        - Users
      responses:
        "200":
          description: User profile retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
    patch:
      summary: Update current user profile
      operationId: updateCurrentUser
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                phone:
                  type: string
                profile_photo_url:
                  type: string
      responses:
        "200":
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
    delete:
      summary: Delete current user account
      operationId: deleteCurrentUser
      tags:
        - Users
      responses:
        "204":
          description: Account deleted successfully
  /users/{user_id}:
    get:
      summary: Get public user profile
      operationId: getUserProfile
      tags:
        - Users
      security: []
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: User profile retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
  /users/me/addresses:
    get:
      summary: Get all user addresses
      operationId: getUserAddresses
      tags:
        - Addresses
      responses:
        "200":
          description: Addresses retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Address"
    post:
      summary: Add new address
      operationId: createAddress
      tags:
        - Addresses
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - address_line_1
                - city
                - state
                - postal_code
              properties:
                address_label:
                  type: string
                address_line_1:
                  type: string
                address_line_2:
                  type: string
                city:
                  type: string
                state:
                  type: string
                postal_code:
                  type: string
                country:
                  type: string
                  default: USA
                is_default:
                  type: boolean
                  default: false
                contact_name:
                  type: string
                contact_phone:
                  type: string
                delivery_instructions:
                  type: string
      responses:
        "201":
          description: Address created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Address"
  /addresses/{address_id}:
    patch:
      summary: Update address
      operationId: updateAddress
      tags:
        - Addresses
      parameters:
        - name: address_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                address_label:
                  type: string
                address_line_1:
                  type: string
                address_line_2:
                  type: string
                city:
                  type: string
                state:
                  type: string
                postal_code:
                  type: string
                is_default:
                  type: boolean
                contact_name:
                  type: string
                contact_phone:
                  type: string
                delivery_instructions:
                  type: string
      responses:
        "200":
          description: Address updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Address"
    delete:
      summary: Delete address
      operationId: deleteAddress
      tags:
        - Addresses
      parameters:
        - name: address_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Address deleted
  /users/me/payment-methods:
    get:
      summary: Get all payment methods
      operationId: getPaymentMethods
      tags:
        - Payment Methods
      responses:
        "200":
          description: Payment methods retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentMethod"
    post:
      summary: Add payment method
      operationId: createPaymentMethod
      tags:
        - Payment Methods
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - payment_type
                - payment_token
              properties:
                payment_type:
                  type: string
                  enum:
                    - credit_card
                    - debit_card
                    - bank_account
                    - digital_wallet
                card_last_four:
                  type: string
                card_brand:
                  type: string
                card_expiry_month:
                  type: string
                card_expiry_year:
                  type: string
                cardholder_name:
                  type: string
                payment_token:
                  type: string
                is_default:
                  type: boolean
                  default: false
                billing_address_id:
                  type: string
      responses:
        "201":
          description: Payment method added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethod"
  /payment-methods/{payment_method_id}:
    patch:
      summary: Update payment method
      operationId: updatePaymentMethod
      tags:
        - Payment Methods
      parameters:
        - name: payment_method_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                card_expiry_month:
                  type: string
                card_expiry_year:
                  type: string
                is_default:
                  type: boolean
                billing_address_id:
                  type: string
      responses:
        "200":
          description: Payment method updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethod"
    delete:
      summary: Delete payment method
      operationId: deletePaymentMethod
      tags:
        - Payment Methods
      parameters:
        - name: payment_method_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Payment method deleted
  /categories:
    get:
      summary: Get all product categories
      operationId: getCategories
      tags:
        - Categories
      security: []
      parameters:
        - name: parent_category_id
          in: query
          schema:
            type: string
        - name: is_active
          in: query
          schema:
            type: boolean
      responses:
        "200":
          description: Categories retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Category"
  /categories/{category_id}:
    get:
      summary: Get category details
      operationId: getCategoryById
      tags:
        - Categories
      security: []
      parameters:
        - name: category_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Category retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
  /products:
    get:
      summary: Search and filter products
      operationId: searchProducts
      tags:
        - Products
      security: []
      parameters:
        - name: q
          in: query
          description: Search query
          schema:
            type: string
        - name: category
          in: query
          description: Category slug or ID
          schema:
            type: string
        - name: subcategory
          in: query
          schema:
            type: string
        - name: supplier_id
          in: query
          schema:
            type: string
        - name: brand
          in: query
          schema:
            type: string
        - name: price_min
          in: query
          schema:
            type: number
        - name: price_max
          in: query
          schema:
            type: number
        - name: availability
          in: query
          schema:
            type: string
            enum:
              - in_stock
              - low_stock
              - out_of_stock
        - name: delivery_speed
          in: query
          schema:
            type: string
            enum:
              - same_day
              - next_day
              - standard
        - name: supplier_rating_min
          in: query
          schema:
            type: number
        - name: product_rating_min
          in: query
          schema:
            type: number
        - name: location_radius
          in: query
          description: Distance in miles
          schema:
            type: number
        - name: is_eco_friendly
          in: query
          schema:
            type: boolean
        - name: tags
          in: query
          schema:
            type: array
            items:
              type: string
        - name: sort_by
          in: query
          schema:
            type: string
            enum:
              - relevance
              - price_asc
              - price_desc
              - rating
              - newest
              - popularity
            default: relevance
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 24
      responses:
        "200":
          description: Products retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  products:
                    type: array
                    items:
                      $ref: "#/components/schemas/Product"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
                  filters_applied:
                    type: object
  /products/{product_id}:
    get:
      summary: Get product details
      operationId: getProductById
      tags:
        - Products
      security: []
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Product retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Product"
  /products/{product_id}/variants:
    get:
      summary: Get product variants
      operationId: getProductVariants
      tags:
        - Products
      security: []
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Variants retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductVariant"
  /products/{product_id}/images:
    get:
      summary: Get product images
      operationId: getProductImages
      tags:
        - Products
      security: []
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Images retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductImage"
  /products/{product_id}/reviews:
    get:
      summary: Get product reviews
      operationId: getProductReviews
      tags:
        - Products
      security: []
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
        - name: rating
          in: query
          schema:
            type: integer
        - name: sort_by
          in: query
          schema:
            type: string
            enum:
              - most_recent
              - most_helpful
              - highest_rating
              - lowest_rating
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Reviews retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  reviews:
                    type: array
                    items:
                      $ref: "#/components/schemas/ProductReview"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Create product review
      operationId: createProductReview
      tags:
        - Reviews
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order_id
                - rating
                - review_text
              properties:
                order_id:
                  type: string
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                title:
                  type: string
                review_text:
                  type: string
                is_recommended:
                  type: boolean
                is_anonymous:
                  type: boolean
                  default: false
                photo_urls:
                  type: array
                  items:
                    type: string
      responses:
        "201":
          description: Review created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductReview"
  /users/me/carts:
    get:
      summary: Get all user carts
      operationId: getUserCarts
      tags:
        - Shopping Cart
      parameters:
        - name: is_active
          in: query
          schema:
            type: boolean
      responses:
        "200":
          description: Carts retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ShoppingCart"
    post:
      summary: Create new cart
      operationId: createCart
      tags:
        - Shopping Cart
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cart_name:
                  type: string
                project_id:
                  type: string
      responses:
        "201":
          description: Cart created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ShoppingCart"
  /carts/{cart_id}:
    get:
      summary: Get cart details
      operationId: getCartById
      tags:
        - Shopping Cart
      parameters:
        - name: cart_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Cart retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ShoppingCart"
    patch:
      summary: Update cart
      operationId: updateCart
      tags:
        - Shopping Cart
      parameters:
        - name: cart_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cart_name:
                  type: string
                is_active:
                  type: boolean
                project_id:
                  type: string
                promo_code:
                  type: string
      responses:
        "200":
          description: Cart updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ShoppingCart"
    delete:
      summary: Delete cart
      operationId: deleteCart
      tags:
        - Shopping Cart
      parameters:
        - name: cart_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Cart deleted
  /carts/{cart_id}/items:
    get:
      summary: Get cart items
      operationId: getCartItems
      tags:
        - Shopping Cart
      parameters:
        - name: cart_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Cart items retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CartItem"
    post:
      summary: Add item to cart
      operationId: addCartItem
      tags:
        - Shopping Cart
      parameters:
        - name: cart_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product_id
                - supplier_id
                - quantity
                - unit_price
              properties:
                product_id:
                  type: string
                variant_id:
                  type: string
                supplier_id:
                  type: string
                quantity:
                  type: integer
                unit_price:
                  type: number
      responses:
        "201":
          description: Item added to cart
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CartItem"
  /cart-items/{cart_item_id}:
    patch:
      summary: Update cart item quantity
      operationId: updateCartItem
      tags:
        - Shopping Cart
      parameters:
        - name: cart_item_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quantity
              properties:
                quantity:
                  type: integer
      responses:
        "200":
          description: Cart item updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CartItem"
    delete:
      summary: Remove item from cart
      operationId: removeCartItem
      tags:
        - Shopping Cart
      parameters:
        - name: cart_item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Item removed from cart
  /users/me/wishlists:
    get:
      summary: Get all user wishlists
      operationId: getUserWishlists
      tags:
        - Wishlist
      responses:
        "200":
          description: Wishlists retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Wishlist"
    post:
      summary: Create wishlist
      operationId: createWishlist
      tags:
        - Wishlist
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                wishlist_name:
                  type: string
                is_public:
                  type: boolean
                  default: false
      responses:
        "201":
          description: Wishlist created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Wishlist"
  /wishlists/{wishlist_id}:
    patch:
      summary: Update wishlist
      operationId: updateWishlist
      tags:
        - Wishlist
      parameters:
        - name: wishlist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                wishlist_name:
                  type: string
                is_public:
                  type: boolean
      responses:
        "200":
          description: Wishlist updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Wishlist"
    delete:
      summary: Delete wishlist
      operationId: deleteWishlist
      tags:
        - Wishlist
      parameters:
        - name: wishlist_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Wishlist deleted
  /wishlists/{wishlist_id}/items:
    get:
      summary: Get wishlist items
      operationId: getWishlistItems
      tags:
        - Wishlist
      parameters:
        - name: wishlist_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Wishlist items retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WishlistItem"
    post:
      summary: Add item to wishlist
      operationId: addWishlistItem
      tags:
        - Wishlist
      parameters:
        - name: wishlist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product_id
                - price_when_added
              properties:
                product_id:
                  type: string
                variant_id:
                  type: string
                price_when_added:
                  type: number
                notes:
                  type: string
      responses:
        "201":
          description: Item added to wishlist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WishlistItem"
  /wishlist-items/{wishlist_item_id}:
    delete:
      summary: Remove item from wishlist
      operationId: removeWishlistItem
      tags:
        - Wishlist
      parameters:
        - name: wishlist_item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Item removed from wishlist
  /orders:
    get:
      summary: Get order history
      operationId: getOrders
      tags:
        - Orders
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum:
              - pending
              - processing
              - confirmed
              - shipped
              - delivered
              - canceled
              - refunded
        - name: date_from
          in: query
          schema:
            type: string
            format: date
        - name: date_to
          in: query
          schema:
            type: string
            format: date
        - name: supplier_id
          in: query
          schema:
            type: string
        - name: project_id
          in: query
          schema:
            type: string
        - name: search_query
          in: query
          schema:
            type: string
        - name: sort_by
          in: query
          schema:
            type: string
            enum:
              - date_desc
              - date_asc
              - amount_desc
              - amount_asc
            default: date_desc
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Orders retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  orders:
                    type: array
                    items:
                      $ref: "#/components/schemas/Order"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Create new order
      operationId: createOrder
      tags:
        - Orders
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - supplier_id
                - delivery_address_id
                - billing_address_id
                - delivery_method
                - payment_method
                - subtotal
                - delivery_cost
                - tax_amount
                - total_amount
                - items
              properties:
                supplier_id:
                  type: string
                project_id:
                  type: string
                delivery_address_id:
                  type: string
                billing_address_id:
                  type: string
                delivery_contact_name:
                  type: string
                delivery_contact_phone:
                  type: string
                delivery_instructions:
                  type: string
                delivery_window_start:
                  type: string
                  format: date-time
                delivery_window_end:
                  type: string
                  format: date-time
                delivery_method:
                  type: string
                  enum:
                    - standard_delivery
                    - express_delivery
                    - freight_delivery
                    - pickup
                payment_method:
                  type: string
                  enum:
                    - credit_card
                    - debit_card
                    - trade_credit
                    - invoice
                payment_method_id:
                  type: string
                subtotal:
                  type: number
                delivery_cost:
                  type: number
                tax_amount:
                  type: number
                discount_amount:
                  type: number
                  default: 0
                promo_code:
                  type: string
                total_amount:
                  type: number
                notes:
                  type: string
                is_guest_order:
                  type: boolean
                  default: false
                guest_email:
                  type: string
                guest_phone:
                  type: string
                items:
                  type: array
                  items:
                    type: object
                    required:
                      - product_id
                      - quantity
                      - unit_price
                    properties:
                      product_id:
                        type: string
                      variant_id:
                        type: string
                      quantity:
                        type: integer
                      unit_price:
                        type: number
      responses:
        "201":
          description: Order created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Order"
  /orders/{order_id}:
    get:
      summary: Get order details
      operationId: getOrderById
      tags:
        - Orders
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Order retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Order"
    patch:
      summary: Update order
      operationId: updateOrder
      tags:
        - Orders
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                delivery_contact_name:
                  type: string
                delivery_contact_phone:
                  type: string
                delivery_instructions:
                  type: string
                delivery_window_start:
                  type: string
                  format: date-time
                delivery_window_end:
                  type: string
                  format: date-time
      responses:
        "200":
          description: Order updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Order"
  /orders/{order_id}/cancel:
    post:
      summary: Cancel order
      operationId: cancelOrder
      tags:
        - Orders
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                cancellation_reason:
                  type: string
      responses:
        "200":
          description: Order canceled
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Order"
  /orders/{order_id}/tracking:
    get:
      summary: Get order tracking details
      operationId: getOrderTracking
      tags:
        - Orders
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Tracking details retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Delivery"
  /orders/track:
    get:
      summary: Guest order tracking
      operationId: guestOrderTracking
      tags:
        - Orders
      security: []
      parameters:
        - name: order_id
          in: query
          required: true
          schema:
            type: string
        - name: tracking_token
          in: query
          required: true
          schema:
            type: string
        - name: email
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Order tracking retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  order:
                    $ref: "#/components/schemas/Order"
                  delivery:
                    $ref: "#/components/schemas/Delivery"
  /deliveries/{delivery_id}:
    get:
      summary: Get delivery details
      operationId: getDeliveryById
      tags:
        - Deliveries
      parameters:
        - name: delivery_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Delivery retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Delivery"
    patch:
      summary: Update delivery status
      operationId: updateDelivery
      tags:
        - Deliveries
      parameters:
        - name: delivery_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                    - pending
                    - in_transit
                    - out_for_delivery
                    - delivered
                    - failed
                    - returned
                current_latitude:
                  type: number
                current_longitude:
                  type: number
                estimated_arrival_time:
                  type: string
                  format: date-time
                actual_delivery_time:
                  type: string
                  format: date-time
                delay_reason:
                  type: string
                proof_of_delivery_url:
                  type: string
                recipient_name:
                  type: string
      responses:
        "200":
          description: Delivery updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Delivery"
  /deliveries/{delivery_id}/reschedule:
    post:
      summary: Reschedule delivery
      operationId: rescheduleDelivery
      tags:
        - Deliveries
      parameters:
        - name: delivery_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - scheduled_date
                - scheduled_window_start
                - scheduled_window_end
              properties:
                scheduled_date:
                  type: string
                  format: date
                scheduled_window_start:
                  type: string
                  format: time
                scheduled_window_end:
                  type: string
                  format: time
      responses:
        "200":
          description: Delivery rescheduled
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Delivery"
  /reviews:
    get:
      summary: Get user reviews
      operationId: getUserReviews
      tags:
        - Reviews
      parameters:
        - name: review_type
          in: query
          schema:
            type: string
            enum:
              - product
              - supplier
      responses:
        "200":
          description: Reviews retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductReview"
  /reviews/{review_id}:
    patch:
      summary: Update review
      operationId: updateReview
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                title:
                  type: string
                review_text:
                  type: string
      responses:
        "200":
          description: Review updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductReview"
    delete:
      summary: Delete review
      operationId: deleteReview
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Review deleted
  /reviews/{review_id}/helpful:
    post:
      summary: Mark review as helpful
      operationId: markReviewHelpful
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - is_helpful
              properties:
                is_helpful:
                  type: boolean
      responses:
        "200":
          description: Vote recorded
  /orders/{order_id}/returns:
    post:
      summary: Request order return
      operationId: createReturn
      tags:
        - Returns
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order_item_id
                - return_reason
                - quantity
                - refund_amount
              properties:
                order_item_id:
                  type: string
                return_reason:
                  type: string
                  enum:
                    - defective
                    - wrong_item
                    - not_as_described
                    - damaged
                    - changed_mind
                    - other
                detailed_description:
                  type: string
                photo_urls:
                  type: array
                  items:
                    type: string
                quantity:
                  type: integer
                refund_amount:
                  type: number
      responses:
        "201":
          description: Return request created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Return"
  /returns:
    get:
      summary: Get user returns
      operationId: getReturns
      tags:
        - Returns
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum:
              - pending
              - approved
              - rejected
              - in_transit
              - received
              - completed
              - canceled
      responses:
        "200":
          description: Returns retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Return"
  /returns/{return_id}:
    get:
      summary: Get return details
      operationId: getReturnById
      tags:
        - Returns
      parameters:
        - name: return_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Return retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Return"
  /conversations:
    get:
      summary: Get all conversations
      operationId: getConversations
      tags:
        - Messaging
      parameters:
        - name: status
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Conversations retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Conversation"
    post:
      summary: Start new conversation
      operationId: createConversation
      tags:
        - Messaging
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - participant_id
              properties:
                participant_id:
                  type: string
                related_order_id:
                  type: string
                related_product_id:
                  type: string
                initial_message:
                  type: string
      responses:
        "201":
          description: Conversation created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conversation"
  /conversations/{conversation_id}:
    get:
      summary: Get conversation details
      operationId: getConversationById
      tags:
        - Messaging
      parameters:
        - name: conversation_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Conversation retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conversation"
  /conversations/{conversation_id}/messages:
    get:
      summary: Get conversation messages
      operationId: getConversationMessages
      tags:
        - Messaging
      parameters:
        - name: conversation_id
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        "200":
          description: Messages retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      $ref: "#/components/schemas/Message"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Send message
      operationId: sendMessage
      tags:
        - Messaging
      parameters:
        - name: conversation_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - message_text
              properties:
                message_text:
                  type: string
                attachment_urls:
                  type: array
                  items:
                    type: string
      responses:
        "201":
          description: Message sent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
  /messages/{message_id}/read:
    patch:
      summary: Mark message as read
      operationId: markMessageRead
      tags:
        - Messaging
      parameters:
        - name: message_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Message marked as read
  /notifications:
    get:
      summary: Get user notifications
      operationId: getNotifications
      tags:
        - Notifications
      parameters:
        - name: notification_type
          in: query
          schema:
            type: string
            enum:
              - order_update
              - message
              - promotion
              - system
              - price_drop
              - back_in_stock
        - name: is_read
          in: query
          schema:
            type: boolean
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Notifications retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  notifications:
                    type: array
                    items:
                      $ref: "#/components/schemas/Notification"
                  unread_count:
                    type: integer
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /notifications/{notification_id}:
    patch:
      summary: Mark notification as read
      operationId: markNotificationRead
      tags:
        - Notifications
      parameters:
        - name: notification_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Notification marked as read
  /notifications/mark-all-read:
    post:
      summary: Mark all notifications as read
      operationId: markAllNotificationsRead
      tags:
        - Notifications
      responses:
        "200":
          description: All notifications marked as read
  /supplier-applications:
    post:
      summary: Submit supplier application
      operationId: submitSupplierApplication
      tags:
        - Suppliers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - business_name
                - business_registration_number
                - tax_id
                - business_address
                - years_in_business
                - business_type
                - contact_name
                - contact_email
                - contact_phone
                - product_categories
                - estimated_product_count
                - delivery_area
                - delivery_options
              properties:
                business_name:
                  type: string
                business_registration_number:
                  type: string
                tax_id:
                  type: string
                business_address:
                  type: string
                years_in_business:
                  type: integer
                business_type:
                  type: string
                website_url:
                  type: string
                contact_name:
                  type: string
                contact_email:
                  type: string
                contact_phone:
                  type: string
                product_categories:
                  type: array
                  items:
                    type: string
                estimated_product_count:
                  type: integer
                average_order_value:
                  type: number
                delivery_area:
                  type: object
                delivery_options:
                  type: array
                  items:
                    type: string
                pickup_available:
                  type: boolean
                documents:
                  type: object
      responses:
        "201":
          description: Application submitted
          content:
            application/json:
              schema:
                type: object
                properties:
                  application_id:
                    type: string
                  reference_number:
                    type: string
                  status:
                    type: string
  /suppliers/{supplier_id}:
    get:
      summary: Get supplier shop details
      operationId: getSupplierById
      tags:
        - Suppliers
      security: []
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Supplier retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Supplier"
    patch:
      summary: Update supplier shop
      operationId: updateSupplier
      tags:
        - Suppliers
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                shop_name:
                  type: string
                shop_description:
                  type: string
                shop_logo_url:
                  type: string
                shop_cover_image_url:
                  type: string
                contact_email:
                  type: string
                contact_phone:
                  type: string
                business_hours:
                  type: object
                about_section:
                  type: string
                return_policy:
                  type: string
                shipping_policy:
                  type: string
      responses:
        "200":
          description: Supplier updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Supplier"
  /suppliers/{supplier_id}/products:
    get:
      summary: Get supplier products
      operationId: getSupplierProducts
      tags:
        - Suppliers
      security: []
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
        - name: category
          in: query
          schema:
            type: string
        - name: status
          in: query
          schema:
            type: string
        - name: search_query
          in: query
          schema:
            type: string
        - name: sort_by
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 24
      responses:
        "200":
          description: Products retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  products:
                    type: array
                    items:
                      $ref: "#/components/schemas/Product"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Create product
      operationId: createProduct
      tags:
        - Suppliers
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product_name
                - category_id
                - sku
                - unit_of_measure
                - price
              properties:
                product_name:
                  type: string
                product_slug:
                  type: string
                category_id:
                  type: string
                subcategory_id:
                  type: string
                brand:
                  type: string
                sku:
                  type: string
                description:
                  type: string
                specifications:
                  type: object
                dimensions:
                  type: object
                weight:
                  type: number
                unit_of_measure:
                  type: string
                price:
                  type: number
                quantity_on_hand:
                  type: integer
                low_stock_threshold:
                  type: integer
                tags:
                  type: array
                  items:
                    type: string
                is_eco_friendly:
                  type: boolean
      responses:
        "201":
          description: Product created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Product"
  /suppliers/{supplier_id}/reviews:
    get:
      summary: Get supplier reviews
      operationId: getSupplierReviews
      tags:
        - Suppliers
      security: []
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
        - name: rating
          in: query
          schema:
            type: integer
        - name: sort_by
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Reviews retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  reviews:
                    type: array
                    items:
                      $ref: "#/components/schemas/SupplierReview"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Create supplier review
      operationId: createSupplierReview
      tags:
        - Reviews
      parameters:
        - name: supplier_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order_id
                - overall_rating
                - product_quality_rating
                - delivery_rating
                - customer_service_rating
              properties:
                order_id:
                  type: string
                overall_rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                product_quality_rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                delivery_rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                customer_service_rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                review_text:
                  type: string
                is_anonymous:
                  type: boolean
      responses:
        "201":
          description: Review created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SupplierReview"
  /suppliers/me/orders:
    get:
      summary: Get supplier orders
      operationId: getSupplierOrders
      tags:
        - Suppliers
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: date_from
          in: query
          schema:
            type: string
        - name: date_to
          in: query
          schema:
            type: string
        - name: search_query
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Orders retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  orders:
                    type: array
                    items:
                      $ref: "#/components/schemas/Order"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /suppliers/me/analytics:
    get:
      summary: Get supplier analytics
      operationId: getSupplierAnalytics
      tags:
        - Suppliers
      parameters:
        - name: date_from
          in: query
          schema:
            type: string
        - name: date_to
          in: query
          schema:
            type: string
        - name: metric_type
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Analytics retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  revenue:
                    type: number
                  orders:
                    type: integer
                  average_order_value:
                    type: number
                  conversion_rate:
                    type: number
                  top_products:
                    type: array
                  traffic:
                    type: object
  /suppliers/me/payouts:
    get:
      summary: Get supplier payouts
      operationId: getSupplierPayouts
      tags:
        - Suppliers
      parameters:
        - name: date_from
          in: query
          schema:
            type: string
        - name: date_to
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Payouts retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Payout"
  /suppliers/me/inventory:
    patch:
      summary: Bulk update inventory
      operationId: bulkUpdateInventory
      tags:
        - Suppliers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - updates
              properties:
                updates:
                  type: array
                  items:
                    type: object
                    required:
                      - product_id
                      - quantity_on_hand
                    properties:
                      product_id:
                        type: string
                      quantity_on_hand:
                        type: integer
      responses:
        "200":
          description: Inventory updated
  /promotions:
    post:
      summary: Create promotion
      operationId: createPromotion
      tags:
        - Promotions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - promotion_name
                - promotion_type
                - discount_type
                - discount_value
                - start_date
              properties:
                promotion_name:
                  type: string
                promotion_type:
                  type: string
                discount_code:
                  type: string
                discount_type:
                  type: string
                  enum:
                    - percentage
                    - fixed_amount
                discount_value:
                  type: number
                minimum_purchase_amount:
                  type: number
                applicable_product_ids:
                  type: array
                  items:
                    type: string
                start_date:
                  type: string
                end_date:
                  type: string
                total_usage_limit:
                  type: integer
                per_customer_limit:
                  type: integer
      responses:
        "201":
          description: Promotion created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Promotion"
  /promotions/{promotion_id}:
    patch:
      summary: Update promotion
      operationId: updatePromotion
      tags:
        - Promotions
      parameters:
        - name: promotion_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                promotion_name:
                  type: string
                discount_value:
                  type: number
                end_date:
                  type: string
                is_active:
                  type: boolean
      responses:
        "200":
          description: Promotion updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Promotion"
  /projects:
    get:
      summary: Get all projects
      operationId: getProjects
      tags:
        - Projects
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: project_type
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Projects retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Project"
    post:
      summary: Create project
      operationId: createProject
      tags:
        - Projects
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - project_name
              properties:
                project_name:
                  type: string
                project_type:
                  type: string
                budget:
                  type: number
                start_date:
                  type: string
                end_date:
                  type: string
                notes:
                  type: string
      responses:
        "201":
          description: Project created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Project"
  /projects/{project_id}:
    get:
      summary: Get project details
      operationId: getProjectById
      tags:
        - Projects
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Project retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Project"
    patch:
      summary: Update project
      operationId: updateProject
      tags:
        - Projects
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                project_name:
                  type: string
                budget:
                  type: number
                status:
                  type: string
                notes:
                  type: string
      responses:
        "200":
          description: Project updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Project"
    delete:
      summary: Delete project
      operationId: deleteProject
      tags:
        - Projects
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Project deleted
  /projects/{project_id}/materials:
    get:
      summary: Get project materials list
      operationId: getProjectMaterials
      tags:
        - Projects
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Materials retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
    post:
      summary: Add material to project
      operationId: addProjectMaterial
      tags:
        - Projects
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product_id
                - quantity_needed
              properties:
                product_id:
                  type: string
                variant_id:
                  type: string
                quantity_needed:
                  type: integer
                notes:
                  type: string
      responses:
        "201":
          description: Material added
  /business-accounts:
    post:
      summary: Create business account
      operationId: createBusinessAccount
      tags:
        - Business Accounts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - company_name
              properties:
                company_name:
                  type: string
                company_registration_number:
                  type: string
                tax_id:
                  type: string
                billing_address_id:
                  type: string
      responses:
        "201":
          description: Business account created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessAccount"
  /business-accounts/me:
    get:
      summary: Get current business account
      operationId: getCurrentBusinessAccount
      tags:
        - Business Accounts
      responses:
        "200":
          description: Business account retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessAccount"
    patch:
      summary: Update business account
      operationId: updateBusinessAccount
      tags:
        - Business Accounts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                company_name:
                  type: string
                tax_id:
                  type: string
                billing_address_id:
                  type: string
      responses:
        "200":
          description: Business account updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessAccount"
  /business-accounts/me/team-members:
    get:
      summary: Get team members
      operationId: getTeamMembers
      tags:
        - Business Accounts
      responses:
        "200":
          description: Team members retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TeamMember"
    post:
      summary: Invite team member
      operationId: inviteTeamMember
      tags:
        - Business Accounts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - role
              properties:
                email:
                  type: string
                role:
                  type: string
                  enum:
                    - admin
                    - manager
                    - buyer
                    - viewer
                spending_limit:
                  type: number
      responses:
        "201":
          description: Invitation sent
  /team-members/{team_member_id}:
    patch:
      summary: Update team member
      operationId: updateTeamMember
      tags:
        - Business Accounts
      parameters:
        - name: team_member_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                spending_limit:
                  type: number
      responses:
        "200":
          description: Team member updated
    delete:
      summary: Remove team member
      operationId: removeTeamMember
      tags:
        - Business Accounts
      parameters:
        - name: team_member_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Team member removed
  /trade-credit/apply:
    post:
      summary: Apply for trade credit
      operationId: applyForTradeCredit
      tags:
        - Business Accounts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - requested_credit_limit
                - desired_terms
              properties:
                requested_credit_limit:
                  type: number
                desired_terms:
                  type: string
                business_financials:
                  type: object
                bank_references:
                  type: array
                  items:
                    type: object
      responses:
        "201":
          description: Application submitted
  /admin/dashboard:
    get:
      summary: Get admin dashboard metrics
      operationId: getAdminDashboard
      tags:
        - Admin
      responses:
        "200":
          description: Dashboard data retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  gmv:
                    type: number
                  total_orders:
                    type: integer
                  active_users:
                    type: integer
                  total_suppliers:
                    type: integer
                  pending_supplier_applications:
                    type: integer
                  open_disputes:
                    type: integer
  /admin/users:
    get:
      summary: Get all users
      operationId: getAdminUsers
      tags:
        - Admin
      parameters:
        - name: account_type
          in: query
          schema:
            type: string
        - name: status
          in: query
          schema:
            type: string
        - name: search_query
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Users retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /admin/users/{user_id}:
    get:
      summary: Get user details
      operationId: getAdminUserById
      tags:
        - Admin
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: User retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
    patch:
      summary: Update user
      operationId: updateAdminUser
      tags:
        - Admin
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                    - active
                    - inactive
                    - suspended
      responses:
        "200":
          description: User updated
  /admin/suppliers:
    get:
      summary: Get all suppliers
      operationId: getAdminSuppliers
      tags:
        - Admin
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: rating_min
          in: query
          schema:
            type: number
        - name: search_query
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Suppliers retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  suppliers:
                    type: array
                    items:
                      $ref: "#/components/schemas/Supplier"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /admin/supplier-applications:
    get:
      summary: Get supplier applications
      operationId: getSupplierApplications
      tags:
        - Admin
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Applications retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  applications:
                    type: array
                    items:
                      $ref: "#/components/schemas/SupplierApplication"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /admin/supplier-applications/{application_id}:
    patch:
      summary: Review supplier application
      operationId: reviewSupplierApplication
      tags:
        - Admin
      parameters:
        - name: application_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum:
                    - approved
                    - rejected
                    - more_info_needed
                rejection_reason:
                  type: string
                admin_notes:
                  type: string
                commission_rate:
                  type: number
      responses:
        "200":
          description: Application reviewed
  /admin/orders:
    get:
      summary: Get all orders
      operationId: getAdminOrders
      tags:
        - Admin
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: date_from
          in: query
          schema:
            type: string
        - name: date_to
          in: query
          schema:
            type: string
        - name: supplier_id
          in: query
          schema:
            type: string
        - name: customer_id
          in: query
          schema:
            type: string
        - name: search_query
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Orders retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  orders:
                    type: array
                    items:
                      $ref: "#/components/schemas/Order"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /admin/disputes:
    get:
      summary: Get all disputes
      operationId: getAdminDisputes
      tags:
        - Admin
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: priority
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Disputes retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  disputes:
                    type: array
                    items:
                      $ref: "#/components/schemas/Dispute"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /admin/disputes/{dispute_id}:
    patch:
      summary: Resolve dispute
      operationId: resolveDispute
      tags:
        - Admin
      parameters:
        - name: dispute_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - resolution_decision
              properties:
                resolution_decision:
                  type: string
                  enum:
                    - favor_customer
                    - favor_supplier
                    - split_resolution
                resolution_description:
                  type: string
                refund_amount:
                  type: number
      responses:
        "200":
          description: Dispute resolved
  /admin/moderation/products:
    get:
      summary: Get flagged products
      operationId: getFlaggedProducts
      tags:
        - Admin
      parameters:
        - name: flag_source
          in: query
          schema:
            type: string
        - name: status
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Flagged products retrieved
  /admin/moderation/products/{product_id}:
    patch:
      summary: Moderate product
      operationId: moderateProduct
      tags:
        - Admin
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - approve
                    - unpublish
                    - delete
                moderation_notes:
                  type: string
      responses:
        "200":
          description: Product moderated
  /admin/moderation/reviews:
    get:
      summary: Get flagged reviews
      operationId: getFlaggedReviews
      tags:
        - Admin
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Flagged reviews retrieved
  /admin/moderation/reviews/{review_id}:
    patch:
      summary: Moderate review
      operationId: moderateReview
      tags:
        - Admin
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - approve
                    - remove
                    - edit
                moderation_notes:
                  type: string
      responses:
        "200":
          description: Review moderated
  /admin/announcements:
    post:
      summary: Create platform announcement
      operationId: createAnnouncement
      tags:
        - Admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - message
                - target_audience
                - delivery_methods
              properties:
                title:
                  type: string
                message:
                  type: string
                target_audience:
                  type: string
                  enum:
                    - all
                    - customers
                    - suppliers
                    - business
                delivery_methods:
                  type: array
                  items:
                    type: string
                scheduled_for:
                  type: string
                  format: date-time
      responses:
        "201":
          description: Announcement created
  /admin/analytics:
    get:
      summary: Get platform analytics
      operationId: getAdminAnalytics
      tags:
        - Admin
      parameters:
        - name: date_from
          in: query
          schema:
            type: string
        - name: date_to
          in: query
          schema:
            type: string
        - name: metric_type
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Analytics retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  gmv:
                    type: number
                  revenue:
                    type: number
                  orders:
                    type: integer
                  users:
                    type: object
                  suppliers:
                    type: object
  /support/tickets:
    get:
      summary: Get user support tickets
      operationId: getSupportTickets
      tags:
        - Support
      parameters:
        - name: status
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Tickets retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  tickets:
                    type: array
                    items:
                      $ref: "#/components/schemas/SupportTicket"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
    post:
      summary: Create support ticket
      operationId: createSupportTicket
      tags:
        - Support
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - category
                - subject
                - description
              properties:
                category:
                  type: string
                  enum:
                    - order_issue
                    - product_question
                    - account
                    - payment
                    - delivery
                    - return
                    - technical
                    - other
                subject:
                  type: string
                description:
                  type: string
                related_order_id:
                  type: string
      responses:
        "201":
          description: Ticket created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SupportTicket"
  /support/tickets/{ticket_id}:
    get:
      summary: Get ticket details
      operationId: getSupportTicketById
      tags:
        - Support
      parameters:
        - name: ticket_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Ticket retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SupportTicket"
  /support/tickets/{ticket_id}/responses:
    post:
      summary: Add response to ticket
      operationId: addTicketResponse
      tags:
        - Support
      parameters:
        - name: ticket_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - response_text
              properties:
                response_text:
                  type: string
                attachment_urls:
                  type: array
                  items:
                    type: string
      responses:
        "201":
          description: Response added
  /secondary-marketplace:
    get:
      summary: Get secondary marketplace listings
      operationId: getSecondaryMarketplace
      tags:
        - Community
      security: []
      parameters:
        - name: category
          in: query
          schema:
            type: string
        - name: condition
          in: query
          schema:
            type: string
        - name: price_min
          in: query
          schema:
            type: number
        - name: price_max
          in: query
          schema:
            type: number
        - name: location_radius
          in: query
          schema:
            type: number
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Listings retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  listings:
                    type: array
                    items:
                      $ref: "#/components/schemas/SecondaryMarketplaceListing"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
  /secondary-marketplace/listings:
    post:
      summary: Create secondary marketplace listing
      operationId: createSecondaryListing
      tags:
        - Community
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product_description
                - category_id
                - quantity
                - condition
                - asking_price
                - postal_code
                - city
                - state
                - photo_urls
              properties:
                product_description:
                  type: string
                category_id:
                  type: string
                quantity:
                  type: integer
                condition:
                  type: string
                original_purchase_date:
                  type: string
                asking_price:
                  type: number
                is_negotiable:
                  type: boolean
                postal_code:
                  type: string
                city:
                  type: string
                state:
                  type: string
                offers_delivery:
                  type: boolean
                offers_pickup:
                  type: boolean
                photo_urls:
                  type: array
                  items:
                    type: string
      responses:
        "201":
          description: Listing created
  /forums:
    get:
      summary: Get forum threads
      operationId: getForums
      tags:
        - Community
      security: []
      parameters:
        - name: topic
          in: query
          schema:
            type: string
        - name: sort_by
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Forum threads retrieved
  /forums/threads:
    post:
      summary: Create forum thread
      operationId: createForumThread
      tags:
        - Community
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - topic_category
                - title
                - content
              properties:
                topic_category:
                  type: string
                title:
                  type: string
                content:
                  type: string
      responses:
        "201":
          description: Thread created
  /forums/threads/{thread_id}:
    get:
      summary: Get forum thread
      operationId: getForumThread
      tags:
        - Community
      security: []
      parameters:
        - name: thread_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Thread retrieved
  /forums/threads/{thread_id}/posts:
    post:
      summary: Reply to forum thread
      operationId: replyToThread
      tags:
        - Community
      parameters:
        - name: thread_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
      responses:
        "201":
          description: Reply posted
  /guides:
    get:
      summary: Get how-to guides
      operationId: getGuides
      tags:
        - Community
      security: []
      parameters:
        - name: category
          in: query
          schema:
            type: string
        - name: skill_level
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Guides retrieved
    post:
      summary: Create guide
      operationId: createGuide
      tags:
        - Community
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - category
                - skill_level
                - introduction
                - steps
              properties:
                title:
                  type: string
                category:
                  type: string
                skill_level:
                  type: string
                introduction:
                  type: string
                steps:
                  type: array
                  items:
                    type: object
      responses:
        "201":
          description: Guide created
  /guides/{guide_id}:
    get:
      summary: Get guide details
      operationId: getGuideById
      tags:
        - Community
      security: []
      parameters:
        - name: guide_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Guide retrieved
  /showcases:
    get:
      summary: Get project showcases
      operationId: getShowcases
      tags:
        - Community
      security: []
      parameters:
        - name: project_type
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        "200":
          description: Showcases retrieved
    post:
      summary: Create showcase
      operationId: createShowcase
      tags:
        - Community
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - project_type
                - description
                - after_photos
              properties:
                title:
                  type: string
                project_type:
                  type: string
                description:
                  type: string
                before_photos:
                  type: array
                  items:
                    type: string
                after_photos:
                  type: array
                  items:
                    type: string
      responses:
        "201":
          description: Showcase created
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
  schemas:
    User:
      type: object
      properties:
        user_id:
          type: string
        email:
          type: string
        phone:
          type: string
        name:
          type: string
        role:
          type: string
        account_type:
          type: string
        email_verified:
          type: boolean
        phone_verified:
          type: boolean
        profile_photo_url:
          type: string
        status:
          type: string
        last_login:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    Address:
      type: object
      properties:
        address_id:
          type: string
        user_id:
          type: string
        address_label:
          type: string
        address_line_1:
          type: string
        address_line_2:
          type: string
        city:
          type: string
        state:
          type: string
        postal_code:
          type: string
        country:
          type: string
        latitude:
          type: number
        longitude:
          type: number
        is_default:
          type: boolean
        contact_name:
          type: string
        contact_phone:
          type: string
        delivery_instructions:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    PaymentMethod:
      type: object
      properties:
        payment_method_id:
          type: string
        user_id:
          type: string
        payment_type:
          type: string
        card_last_four:
          type: string
        card_brand:
          type: string
        card_expiry_month:
          type: string
        card_expiry_year:
          type: string
        cardholder_name:
          type: string
        payment_token:
          type: string
        is_default:
          type: boolean
        billing_address_id:
          type: string
        created_at:
          type: string
    Category:
      type: object
      properties:
        category_id:
          type: string
        category_name:
          type: string
        category_slug:
          type: string
        parent_category_id:
          type: string
        category_description:
          type: string
        category_image_url:
          type: string
        display_order:
          type: integer
        is_active:
          type: boolean
        category_attributes:
          type: object
        created_at:
          type: string
    Product:
      type: object
      properties:
        product_id:
          type: string
        supplier_id:
          type: string
        product_name:
          type: string
        product_slug:
          type: string
        category_id:
          type: string
        subcategory_id:
          type: string
        brand:
          type: string
        sku:
          type: string
        manufacturer:
          type: string
        model_number:
          type: string
        description:
          type: string
        specifications:
          type: object
        dimensions:
          type: object
        weight:
          type: number
        unit_of_measure:
          type: string
        price:
          type: number
        compare_at_price:
          type: number
        cost_per_item:
          type: number
        has_variants:
          type: boolean
        bulk_pricing:
          type: array
        trade_price:
          type: number
        track_inventory:
          type: boolean
        quantity_on_hand:
          type: integer
        low_stock_threshold:
          type: integer
        continue_selling_when_out_of_stock:
          type: boolean
        barcode:
          type: string
        requires_special_handling:
          type: boolean
        tags:
          type: array
          items:
            type: string
        is_eco_friendly:
          type: boolean
        sustainability_info:
          type: object
        safety_information:
          type: string
        certifications:
          type: array
        technical_datasheet_url:
          type: string
        installation_guide_url:
          type: string
        warranty_info_url:
          type: string
        meta_title:
          type: string
        meta_description:
          type: string
        rating_average:
          type: number
        rating_count:
          type: integer
        view_count:
          type: integer
        order_count:
          type: integer
        status:
          type: string
        is_featured:
          type: boolean
        last_inventory_update:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    ProductVariant:
      type: object
      properties:
        variant_id:
          type: string
        product_id:
          type: string
        variant_name:
          type: string
        variant_type:
          type: string
        sku:
          type: string
        price:
          type: number
        compare_at_price:
          type: number
        quantity_on_hand:
          type: integer
        variant_image_url:
          type: string
        variant_specifications:
          type: object
        display_order:
          type: integer
        is_active:
          type: boolean
        created_at:
          type: string
    ProductImage:
      type: object
      properties:
        image_id:
          type: string
        product_id:
          type: string
        image_url:
          type: string
        is_primary:
          type: boolean
        display_order:
          type: integer
        alt_text:
          type: string
        created_at:
          type: string
    ShoppingCart:
      type: object
      properties:
        cart_id:
          type: string
        user_id:
          type: string
        session_id:
          type: string
        cart_name:
          type: string
        is_active:
          type: boolean
        project_id:
          type: string
        promo_code:
          type: string
        promo_discount_amount:
          type: number
        promo_discount_type:
          type: string
        reservation_expiry:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    CartItem:
      type: object
      properties:
        cart_item_id:
          type: string
        cart_id:
          type: string
        product_id:
          type: string
        variant_id:
          type: string
        supplier_id:
          type: string
        quantity:
          type: integer
        unit_price:
          type: number
        subtotal:
          type: number
        reserved_at:
          type: string
        added_at:
          type: string
    Wishlist:
      type: object
      properties:
        wishlist_id:
          type: string
        user_id:
          type: string
        wishlist_name:
          type: string
        is_default:
          type: boolean
        is_public:
          type: boolean
        created_at:
          type: string
    WishlistItem:
      type: object
      properties:
        wishlist_item_id:
          type: string
        wishlist_id:
          type: string
        product_id:
          type: string
        variant_id:
          type: string
        added_at:
          type: string
        price_when_added:
          type: number
        notes:
          type: string
    Order:
      type: object
      properties:
        order_id:
          type: string
        order_number:
          type: string
        customer_id:
          type: string
        supplier_id:
          type: string
        project_id:
          type: string
        delivery_address_id:
          type: string
        billing_address_id:
          type: string
        delivery_contact_name:
          type: string
        delivery_contact_phone:
          type: string
        delivery_instructions:
          type: string
        delivery_window_start:
          type: string
        delivery_window_end:
          type: string
        delivery_method:
          type: string
        status:
          type: string
        payment_status:
          type: string
        payment_method:
          type: string
        payment_method_id:
          type: string
        subtotal:
          type: number
        delivery_cost:
          type: number
        tax_amount:
          type: number
        discount_amount:
          type: number
        promo_code:
          type: string
        total_amount:
          type: number
        currency:
          type: string
        payment_transaction_id:
          type: string
        payment_gateway:
          type: string
        platform_fee:
          type: number
        supplier_payout_amount:
          type: number
        is_guest_order:
          type: boolean
        guest_email:
          type: string
        guest_phone:
          type: string
        tracking_token:
          type: string
        placed_by:
          type: string
        approved_by:
          type: string
        requires_approval:
          type: boolean
        approval_status:
          type: string
        notes:
          type: string
        supplier_notes:
          type: string
        admin_notes:
          type: string
        estimated_delivery_date:
          type: string
        actual_delivery_date:
          type: string
        accepted_at:
          type: string
        shipped_at:
          type: string
        delivered_at:
          type: string
        canceled_at:
          type: string
        cancellation_reason:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    Delivery:
      type: object
      properties:
        delivery_id:
          type: string
        order_id:
          type: string
        carrier_name:
          type: string
        tracking_number:
          type: string
        tracking_url:
          type: string
        delivery_method:
          type: string
        scheduled_date:
          type: string
        scheduled_window_start:
          type: string
        scheduled_window_end:
          type: string
        estimated_arrival_time:
          type: string
        actual_delivery_time:
          type: string
        driver_name:
          type: string
        driver_phone:
          type: string
        current_latitude:
          type: number
        current_longitude:
          type: number
        status:
          type: string
        delay_reason:
          type: string
        proof_of_delivery_url:
          type: string
        recipient_name:
          type: string
        recipient_signature_url:
          type: string
        delivery_photo_urls:
          type: array
        delivery_notes:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    ProductReview:
      type: object
      properties:
        review_id:
          type: string
        product_id:
          type: string
        order_id:
          type: string
        customer_id:
          type: string
        rating:
          type: integer
        title:
          type: string
        review_text:
          type: string
        is_recommended:
          type: boolean
        is_anonymous:
          type: boolean
        is_verified_purchase:
          type: boolean
        helpful_count:
          type: integer
        photo_urls:
          type: array
        video_url:
          type: string
        supplier_response:
          type: string
        supplier_response_date:
          type: string
        status:
          type: string
        flagged_reason:
          type: string
        moderation_notes:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    SupplierReview:
      type: object
      properties:
        review_id:
          type: string
        supplier_id:
          type: string
        order_id:
          type: string
        customer_id:
          type: string
        overall_rating:
          type: integer
        product_quality_rating:
          type: integer
        delivery_rating:
          type: integer
        customer_service_rating:
          type: integer
        review_text:
          type: string
        is_anonymous:
          type: boolean
        photo_urls:
          type: array
        supplier_response:
          type: string
        supplier_response_date:
          type: string
        status:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    Return:
      type: object
      properties:
        return_id:
          type: string
        order_id:
          type: string
        order_item_id:
          type: string
        customer_id:
          type: string
        supplier_id:
          type: string
        return_reason:
          type: string
        detailed_description:
          type: string
        photo_urls:
          type: array
        quantity:
          type: integer
        refund_amount:
          type: number
        return_method:
          type: string
        return_address:
          type: string
        return_shipping_label_url:
          type: string
        return_tracking_number:
          type: string
        status:
          type: string
        supplier_decision:
          type: string
        supplier_notes:
          type: string
        decline_reason:
          type: string
        item_received_at:
          type: string
        inspection_notes:
          type: string
        requested_at:
          type: string
        approved_at:
          type: string
        completed_at:
          type: string
    Conversation:
      type: object
      properties:
        conversation_id:
          type: string
        participant_1_id:
          type: string
        participant_2_id:
          type: string
        related_order_id:
          type: string
        related_product_id:
          type: string
        status:
          type: string
        last_message_at:
          type: string
        created_at:
          type: string
    Message:
      type: object
      properties:
        message_id:
          type: string
        conversation_id:
          type: string
        sender_id:
          type: string
        message_text:
          type: string
        attachment_urls:
          type: array
        is_read:
          type: boolean
        read_at:
          type: string
        sent_at:
          type: string
    Notification:
      type: object
      properties:
        notification_id:
          type: string
        user_id:
          type: string
        notification_type:
          type: string
        title:
          type: string
        message:
          type: string
        icon_type:
          type: string
        related_entity_type:
          type: string
        related_entity_id:
          type: string
        action_url:
          type: string
        is_read:
          type: boolean
        read_at:
          type: string
        created_at:
          type: string
    Supplier:
      type: object
      properties:
        supplier_id:
          type: string
        user_id:
          type: string
        shop_name:
          type: string
        shop_slug:
          type: string
        shop_description:
          type: string
        shop_logo_url:
          type: string
        shop_cover_image_url:
          type: string
        business_address:
          type: string
        contact_email:
          type: string
        contact_phone:
          type: string
        website_url:
          type: string
        business_hours:
          type: object
        holiday_schedule:
          type: array
        about_section:
          type: string
        certifications:
          type: array
        social_media_links:
          type: object
        return_policy:
          type: string
        shipping_policy:
          type: string
        privacy_policy:
          type: string
        terms_and_conditions:
          type: string
        rating_average:
          type: number
        rating_count:
          type: integer
        is_verified:
          type: boolean
        verification_date:
          type: string
        status:
          type: string
        commission_rate:
          type: number
        average_response_time_minutes:
          type: integer
        on_time_delivery_percentage:
          type: number
        order_fulfillment_rate:
          type: number
        created_at:
          type: string
        updated_at:
          type: string
    SupplierApplication:
      type: object
      properties:
        application_id:
          type: string
        user_id:
          type: string
        business_name:
          type: string
        business_registration_number:
          type: string
        tax_id:
          type: string
        business_address:
          type: string
        years_in_business:
          type: integer
        business_type:
          type: string
        website_url:
          type: string
        contact_name:
          type: string
        contact_email:
          type: string
        contact_phone:
          type: string
        product_categories:
          type: array
        estimated_product_count:
          type: integer
        average_order_value:
          type: number
        delivery_area:
          type: object
        delivery_options:
          type: array
        pickup_available:
          type: boolean
        documents:
          type: object
        status:
          type: string
        rejection_reason:
          type: string
        admin_notes:
          type: string
        reviewed_by:
          type: string
        reviewed_at:
          type: string
        submitted_at:
          type: string
        reference_number:
          type: string
    Project:
      type: object
      properties:
        project_id:
          type: string
        business_account_id:
          type: string
        project_name:
          type: string
        project_type:
          type: string
        budget:
          type: number
        start_date:
          type: string
        end_date:
          type: string
        status:
          type: string
        notes:
          type: string
        total_spent:
          type: number
        created_by:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    BusinessAccount:
      type: object
      properties:
        business_account_id:
          type: string
        user_id:
          type: string
        company_name:
          type: string
        company_registration_number:
          type: string
        tax_id:
          type: string
        billing_address_id:
          type: string
        tax_exempt:
          type: boolean
        tax_exemption_document_url:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    TeamMember:
      type: object
      properties:
        team_member_id:
          type: string
        business_account_id:
          type: string
        user_id:
          type: string
        role:
          type: string
        spending_limit:
          type: number
        status:
          type: string
        invited_by:
          type: string
        invited_at:
          type: string
        joined_at:
          type: string
    Promotion:
      type: object
      properties:
        promotion_id:
          type: string
        supplier_id:
          type: string
        promotion_name:
          type: string
        promotion_type:
          type: string
        discount_code:
          type: string
        discount_type:
          type: string
        discount_value:
          type: number
        minimum_purchase_amount:
          type: number
        applicable_product_ids:
          type: array
        applicable_category_ids:
          type: array
        customer_eligibility:
          type: string
        start_date:
          type: string
        end_date:
          type: string
        total_usage_limit:
          type: integer
        per_customer_limit:
          type: integer
        current_usage_count:
          type: integer
        is_active:
          type: boolean
        show_on_shop_page:
          type: boolean
        show_on_product_pages:
          type: boolean
        email_to_followers:
          type: boolean
        created_at:
          type: string
        updated_at:
          type: string
    Payout:
      type: object
      properties:
        payout_id:
          type: string
        supplier_id:
          type: string
        period_start:
          type: string
        period_end:
          type: string
        gross_amount:
          type: number
        platform_fees:
          type: number
        payment_processing_fees:
          type: number
        refunds_deducted:
          type: number
        chargebacks_deducted:
          type: number
        net_amount:
          type: number
        order_count:
          type: integer
        currency:
          type: string
        bank_account_last_four:
          type: string
        status:
          type: string
        bank_transfer_id:
          type: string
        scheduled_date:
          type: string
        paid_date:
          type: string
        created_at:
          type: string
    SupportTicket:
      type: object
      properties:
        ticket_id:
          type: string
        ticket_number:
          type: string
        user_id:
          type: string
        category:
          type: string
        subject:
          type: string
        description:
          type: string
        priority:
          type: string
        status:
          type: string
        assigned_to:
          type: string
        related_order_id:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
        resolved_at:
          type: string
        closed_at:
          type: string
    Dispute:
      type: object
      properties:
        dispute_id:
          type: string
        order_id:
          type: string
        customer_id:
          type: string
        supplier_id:
          type: string
        dispute_type:
          type: string
        customer_claim:
          type: string
        customer_evidence_urls:
          type: array
        supplier_response:
          type: string
        supplier_evidence_urls:
          type: array
        status:
          type: string
        priority:
          type: string
        assigned_to:
          type: string
        admin_review_notes:
          type: string
        resolution_decision:
          type: string
        resolution_description:
          type: string
        refund_amount:
          type: number
        opened_at:
          type: string
        resolved_at:
          type: string
        closed_at:
          type: string
    SecondaryMarketplaceListing:
      type: object
      properties:
        listing_id:
          type: string
        seller_id:
          type: string
        product_description:
          type: string
        category_id:
          type: string
        quantity:
          type: integer
        condition:
          type: string
        original_purchase_date:
          type: string
        asking_price:
          type: number
        is_negotiable:
          type: boolean
        postal_code:
          type: string
        city:
          type: string
        state:
          type: string
        offers_delivery:
          type: boolean
        offers_pickup:
          type: boolean
        pickup_location:
          type: string
        photo_urls:
          type: array
        status:
          type: string
        view_count:
          type: integer
        marked_sold_at:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
    Pagination:
      type: object
      properties:
        current_page:
          type: integer
        total_pages:
          type: integer
        total_items:
          type: integer
        items_per_page:
          type: integer
        has_next:
          type: boolean
        has_previous:
          type: boolean
