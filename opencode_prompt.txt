
You are tasked with generating comprehensive test artifacts for a web application.
üìä CONTEXT PROVIDED:

PACKAGE.JSON ANALYSIS:
Dependencies: concurrently
Dev Dependencies: @flydotio/dockerfile
Scripts: dev


DATABASE SCHEMA AND SEED DATA (sample):
-- Create all tables

-- Users table
CREATE TABLE users (
    user_id VARCHAR(255) PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(50) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    name VARCHAR(255) NOT NULL,
    role VARCHAR(50) NOT NULL DEFAULT 'customer',
    account_type VARCHAR(50) NOT NULL DEFAULT 'personal',
    email_verified BOOLEAN NOT NULL DEFAULT false,
    phone_verified BOOLEAN NOT NULL DEFAULT false,
    profile_photo_url TEXT,
    status VARCHAR(50) NOT NULL DEFAULT 'active',
    last_login VARCHAR(255),
    created_at VARCHAR(255) NOT NULL,
    updated_at VARCHAR(255) NOT NULL
);

-- Addresses table
CREATE TABLE addresses (
    address_id VARCHAR(255) PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL REFERENCES users(user_id),
    address_label VARCHAR(255),
    address_line_1 TEXT NOT NULL,
    address_line_2 TEXT,
    city VARCHAR(255) NOT NULL,
    state VARCHAR(255) NOT NULL,
    postal_code VARCHAR(50) NOT NULL,
    country VARCHAR(100) NOT NULL,
    latitude DECIMAL(10, 8),
    longitude DECIMAL(11, 8),
    is_default BOOLEAN NOT NULL DEFAULT false,
    contact_name VARCHAR(255),
    contact_phone VARCHAR(50),
    delivery_instructions TEXT,
    created_at VARCHAR(255) NOT NULL,
    updated_at VARCHAR(255) NOT NULL
);

-- Business accounts table
CREATE TABLE business_accounts (
    business_account_id VARCHAR(255) PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL REFERENCES users(user_id),
    company_name VARCHAR(255) NOT NULL,
    company_registration_number VARCHAR(255),
    tax_id VARCHAR(255),
    billing_address_id VARCHAR(255) REFERENCES addresses(address_id),
    tax_exempt BOOLEAN NOT NULL DEFAULT false,
    tax_exemption_document_url TEXT,
    created_at VARCHAR(255) NOT NULL,
    updated_at VARCHAR(255) NOT NULL
);

-- Team members table
CREATE TABLE team_members (
    team_member_id VARCHAR(255) PRIMARY KEY,
    business_account_id VARCHAR(255) NOT NULL REFERENCES business_accounts(business_account_...


BACKEND API ENDPOINTS (extracted from server code):
app.post('/api/auth/register'
app.post('/api/auth/login'
app.post('/api/auth/password-reset/request'
app.post('/api/auth/password-reset/confirm'
app.get('/api/users/me'
app.patch('/api/users/me'
app.delete('/api/users/me'
app.get('/api/users/me/addresses'
app.post('/api/users/me/addresses'
app.patch('/api/addresses/:address_id'
app.delete('/api/addresses/:address_id'
app.get('/api/categories'
app.get('/api/categories/:category_id'
app.get('/api/products'
app.get('/api/products/:product_id'
app.get('/api/products/:product_id/variants'
app.get('/api/products/:product_id/images'
app.get('/api/products/:product_id/reviews'
app.post('/api/products/:product_id/reviews'
app.get('/api/users/me/carts'
app.post('/api/users/me/carts'
app.get('/api/carts/:cart_id'
app.get('/api/carts/:cart_id/items'
app.post('/api/carts/:cart_id/items'
app.patch('/api/cart-items/:cart_item_id'
app.delete('/api/cart-items/:cart_item_id'
app.get('/api/orders'
app.post('/api/orders'
app.get('/api/orders/:order_id'
app.patch('/api/orders/:order_id'
app.post('/api/orders/:order_id/cancel'
app.get('/api/orders/:order_id/tracking'
app.get('/api/suppliers/:supplier_id'
app.get('/api/suppliers/:supplier_id/products'
app.post('/api/suppliers/:supplier_id/products'
app.get('/api/suppliers/:supplier_id/reviews'
app.post('/api/suppliers/:supplier_id/reviews'
app.get('/api/conversations'
app.post('/api/conversations'
app.get('/api/conversations/:conversation_id/messages'
app.post('/api/conversations/:conversation_id/messages'
app.get('/api/notifications'
app.patch('/api/notifications/:notification_id'
app.post('/api/notifications/mark-all-read'
app.get('/api/users/me/wishlists'
app.post('/api/users/me/wishlists'
app.get('/api/projects'
app.post('/api/projects'
app.get('/api/suppliers/me/orders'
app.get('/api/suppliers/me/analytics'
app.post('/api/supplier-applications'
app.get('/api/admin/dashboard'
app.get('/api/health'

Frontend URL: https://123create-construction-app-and-add-a.launchpulse.ai
Backend URL: https://123create-construction-app-and-add-a.launchpulse.ai
üéØ YOUR CRITICAL TASKS - ANALYZE, FIX ISSUES, AND CREATE TEST FILES:
STEP 2: Create test_users.json
üîê INTELLIGENT TEST USER CREATION:
1. **ANALYZE DATABASE SCHEMA** (from db.sql):
   - Find user table structure (users, user, accounts, etc.)
   - Identify role/user_type field and possible values
   - Detect required fields (name, email, password structure)
   - Extract existing seed data if available
2. **ANALYZE BACKEND API** (from server files):
   - Find registration endpoint (/api/auth/register, /register, etc.)
   - Find login endpoint (/api/auth/login, /login, etc.)
   - Determine required payload structure
   - Identify authentication flow
3. **CREATE & VERIFY TEST USERS**:
   - If seed data exists: extract credentials with known test passwords
   - If no seed data: create users via API with curl commands
   - Test login for each user to ensure credentials work
   - Support different roles: admin, user, guest, host, customer etc. based on the database schema and seed data
4. **GENERATE test_users.json**:
{
  "generated_at": "2024-01-20T10:30:00Z",
  "user_structure": {
    "table_name": "users",
    "role_field": "role",
    "registration_endpoint": "/api/auth/register",
    "login_endpoint": "/api/auth/login"
  },
  "total_users": 4,
  "verified_users": 4,
  "users": [
    {
      "email": "admin@test.com",
      "password": "AdminPass123!",
      "role": "admin",
      "name": "Admin User",
      "verified": true,
      "token": "jwt_token_here"
    }
    // ... create for each detected role
  ],
  "by_role": {
    "admin": [{"email": "admin@test.com", "password": "AdminPass123!", "verified": true}],
    "user": [{"email": "user@test.com", "password": "UserPass123!", "verified": true}]
    // ... organize by role for easy browser agent access
  }
}
**CRITICAL**: Use actual project structure, not template data!
STEP 3: Create code_summary.json
{
  "tech_stack": ["React", "Vite", "TypeScript", "Express", "PostgreSQL", "Node.js"],
  "features": [
    {
      "name": "User Authentication",
      "description": "Login, logout, session management",
      "files": ["src/components/Login.tsx", "src/api/auth.ts"]
    },
    {
      "name": "Dashboard",
      "description": "Main application dashboard",
      "files": ["src/components/Dashboard.tsx"]
    }
  ],
  "database_tables": ["users", "projects"],
  "api_endpoints": ["/api/auth", "/api/users"]
}
STEP 4: test_cases.json 
  "testCases": [
    {
      "id": "functional-app-test",
      "name": "Functional Application Test",
      "category": "functionality",
      "priority": "high",
      "description": "Verify the application has actual functionality beyond basic placeholder",
      "steps": [
        "Navigate to application",
        "Verify multiple interactive elements exist (buttons, forms, links)",
        "Check for proper navigation structure",
        "Verify application has real features, not just 'Vite + React' text"
      ],
      "expectedOutcome": "Application shows functional features and interactivity",
      "failureCondition": "If page only shows 'Vite + React' placeholder, this test should FAIL"
    },
    {
      "id": "ui-components-test", 
      "name": "UI Components Test",
      "category": "interface",
      "priority": "high",
      "description": "Test that UI components are properly implemented",
      "steps": [
        "Check for buttons and verify they're clickable",
        "Look for forms and input fields",
        "Verify navigation menu exists",
        "Test responsive design elements"
      ],
      "expectedOutcome": "Multiple interactive UI components found and functional"
    },
    {
      "id": "content-quality-test",
      "name": "Content Quality Test", 
      "category": "content",
      "priority": "high",
      "description": "Verify application has meaningful content",
      "steps": [
        "Check page has substantial content beyond placeholder",
        "Verify proper heading structure",
        "Look for actual application features",
        "Ensure professional appearance"
      ],
      "expectedOutcome": "Application demonstrates real functionality and professional design"
    }
  ]
}
CRITICAL REQUIREMENTS:
1. You MUST FIRST analyze and fix any technical issues in the React application
2. You MUST create all 3 JSON files: code_summary.json, test_cases.json, and test_users.json
3. Each file must be valid JSON
4. The test_cases.json and test_users.json files are especially important - do not skip them
5. Focus on fixing broken functionality, not adding new features
Start by checking if the application runs properly, fix any technical issues, then let Stagehand test the existing functionality.

